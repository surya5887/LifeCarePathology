{% extends 'base.html' %}
{% block title %}Life Care Pathology Lab ‚Äî Trusted Diagnostics{% endblock %}

{% block brand_header %}
<header class="brand-header">
    <div style="display:flex; justify-content:space-between; align-items:center; width:100%; max-width:1400px; margin:0 auto; padding:0 20px;">
        <!-- Far Left: Search + Actions -->
        <div style="display:flex; align-items:center; gap:20px;">
            <div class="brand-search">
                <input type="text" placeholder="Search for tests, packages...">
                <i class="fas fa-search"></i>
            </div>
            <div class="brand-actions">
                <a href="{{ url_for('main.check_report') }}" class="action-btn btn-yellow">
                    <i class="fas fa-file-download"></i> Download Report
                </a>
                <a href="{{ url_for('main.services') }}" class="action-btn btn-blue">
                    <i class="fas fa-vial"></i> Test
                </a>
            </div>
        </div>

        <!-- Far Right: Brand Name -->
        <div class="brand-info">
            <div class="brand-logo-large">
                <span style="font-size: 3.5rem;">üî¨</span>
            </div>
            <div class="brand-text">
                <h1>Life Care Pathology Lab</h1>
                <span>ASARA</span>
            </div>
        </div>
    </div>
</header>
{% endblock %}

{% block content %}
<!-- Image Carousel Section (TOP) -->
<section class="carousel-section" style="padding-top: 78px;">
    <div class="carousel-wrapper">
        <div class="carousel-header">
            <span class="section-badge">Our Lab</span>
            <h2>State-of-the-Art <span class="gradient-text">Facilities</span></h2>
        </div>
        <div class="carousel-track-container">
            <div class="carousel-track">
                <div class="carousel-slide">
                    <img src="https://images.unsplash.com/photo-1579154204601-01588f351e67?w=1200&h=450&fit=crop" alt="Modern Pathology Lab">
                    <div class="slide-overlay">
                        <h3>Modern Laboratory</h3>
                        <p>Equipped with latest diagnostic instruments for precise results</p>
                    </div>
                </div>
                <div class="carousel-slide">
                    <img src="https://images.unsplash.com/photo-1582719471384-894fbb16e074?w=1200&h=450&fit=crop" alt="Lab Technician with Microscope">
                    <div class="slide-overlay">
                        <h3>Expert Pathologists</h3>
                        <p>Experienced team ensuring accurate analysis of every sample</p>
                    </div>
                </div>
                <div class="carousel-slide">
                    <img src="https://images.unsplash.com/photo-1631549916768-4119b2e5f926?w=1200&h=450&fit=crop" alt="Blood Test Tubes">
                    <div class="slide-overlay">
                        <h3>Comprehensive Testing</h3>
                        <p>Over 50+ types of pathology and diagnostic tests available</p>
                    </div>
                </div>
                <div class="carousel-slide">
                    <img src="https://images.unsplash.com/photo-1666214280557-f1b5022eb634?w=1200&h=450&fit=crop" alt="Doctor Consultation">
                    <div class="slide-overlay">
                        <h3>Patient Care</h3>
                        <p>Personalized consultation and guidance for every patient</p>
                    </div>
                </div>
                <div class="carousel-slide">
                    <img src="https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=1200&h=450&fit=crop" alt="Healthcare Family">
                    <div class="slide-overlay">
                        <h3>Trusted by Thousands</h3>
                        <p>Serving families with quality diagnostics since 2016</p>
                    </div>
                </div>
            </div>
            <button class="carousel-btn carousel-btn-prev" aria-label="Previous"><i class="fas fa-chevron-left"></i></button>
            <button class="carousel-btn carousel-btn-next" aria-label="Next"><i class="fas fa-chevron-right"></i></button>
        </div>
        <div class="carousel-dots"></div>
    </div>
</section>

<!-- Hero Section -->
<section class="hero" style="padding-top: 80px; min-height: 70vh;">
    <div class="hero-bg">
        <div class="hero-orb hero-orb-1"></div>
        <div class="hero-orb hero-orb-2"></div>
        <div class="hero-orb hero-orb-3"></div>
    </div>
    
    <div class="hero-content">
        <div class="hero-buttons">
            <a href="{{ url_for('main.check_report') }}" class="btn btn-outline btn-lg">
                <i class="fas fa-file-medical"></i> Download Report
            </a>
        </div>
        <div class="hero-badge">üè• NABL Accredited Lab</div>
        <h1 class="hero-title">Accurate Diagnostics for <span class="gradient-text">Better Health</span></h1>
        <p class="hero-subtitle">Life Care Pathology Lab offers reliable pathology & diagnostic services with fast results, home sample collection, and online report access.</p>
        <div class="hero-buttons">
            <a href="{{ url_for('main.services') }}" class="btn btn-primary btn-lg">
                View All Tests <span class="btn-arrow">‚Üí</span>
            </a>
        </div>
    </div>
</section>

<!-- How It Works -->
<section class="how-it-works">
    <div class="section-container">
        <div class="section-header">
            <span class="section-badge">How It Works</span>
            <h2 class="section-title">Get Your Results in <span class="gradient-text">3 Simple Steps</span></h2>
        </div>
        <div class="steps-grid">
            <div class="step-card animate-on-scroll">
                <div class="step-number">1</div>
                <h3>Book Your Test</h3>
                <p>Choose from our wide range of tests and book online or call us directly.</p>
            </div>
            <div class="step-card animate-on-scroll">
                <div class="step-number">2</div>
                <h3>Give Sample</h3>
                <p>Visit our lab or schedule free home collection at your convenience.</p>
            </div>
            <div class="step-card animate-on-scroll">
                <div class="step-number">3</div>
                <h3>Get Report</h3>
                <p>Receive accurate results online within 24 hours. Download anytime.</p>
            </div>
        </div>
    </div>
</section>

<!-- Horizontal Scrolling Services Strip -->
{% if categories %}
<section class="services-scroll-section">
    <div class="services-scroll-header">
        <h3>Browse Our Services</h3>
    </div>
    <div class="services-scroll-track" id="servicesScrollTrack">
        {% for cat in categories %}
        <a href="{{ url_for('main.services', category=cat.id) }}" class="scroll-service-card">
            <span class="scroll-service-icon">{{ cat.icon }}</span>
            <h4>{{ cat.name }}</h4>
            <p>{{ cat.tests|length }} tests</p>
        </a>
        {% endfor %}
        <!-- Duplicate for infinite scroll effect -->
        {% for cat in categories %}
        <a href="{{ url_for('main.services', category=cat.id) }}" class="scroll-service-card">
            <span class="scroll-service-icon">{{ cat.icon }}</span>
            <h4>{{ cat.name }}</h4>
            <p>{{ cat.tests|length }} tests</p>
        </a>
        {% endfor %}
    </div>
</section>
{% endif %}

<!-- Services Overview -->
<section class="services-section" id="services">
    <div class="section-container">
        <div class="section-header">
            <span class="section-badge">Our Services</span>
            <h2 class="section-title">Comprehensive <span class="gradient-text">Diagnostic Tests</span></h2>
            <p class="section-subtitle">We offer a wide range of pathology tests with accurate results and quick turnaround time.</p>
        </div>
        <div class="services-grid">
            {% for cat in categories[:6] %}
            <div class="service-card animate-on-scroll">
                <div class="service-icon">{{ cat.icon }}</div>
                <h3>{{ cat.name }}</h3>
                <p>{{ cat.description or 'Comprehensive testing services with accurate results.' }}</p>
                <a href="{{ url_for('main.services', category=cat.id) }}" class="service-link">View Tests ‚Üí</a>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Why Choose Us -->
<section class="why-section">
    <div class="section-container">
        <div class="section-header">
            <span class="section-badge">Why Choose Us</span>
            <h2 class="section-title">Trusted by <span class="gradient-text">Thousands</span></h2>
        </div>
        <div class="why-grid">
            <div class="why-card animate-on-scroll">
                <div class="why-icon"><i class="fas fa-award"></i></div>
                <h3>NABL Accredited</h3>
                <p>Our lab is certified and follows international quality standards for all tests.</p>
            </div>
            <div class="why-card animate-on-scroll">
                <div class="why-icon"><i class="fas fa-clock"></i></div>
                <h3>Fast Reports</h3>
                <p>Get your test reports within 24 hours. Emergency results available in 4 hours.</p>
            </div>
            <div class="why-card animate-on-scroll">
                <div class="why-icon"><i class="fas fa-home"></i></div>
                <h3>Home Collection</h3>
                <p>Free sample collection from your doorstep. Book online or call us.</p>
            </div>
            <div class="why-card animate-on-scroll">
                <div class="why-icon"><i class="fas fa-rupee-sign"></i></div>
                <h3>Affordable Prices</h3>
                <p>Quality diagnostics at the most competitive prices. No hidden charges.</p>
            </div>
            <div class="why-card animate-on-scroll">
                <div class="why-icon"><i class="fas fa-user-md"></i></div>
                <h3>Expert Team</h3>
                <p>Experienced pathologists and trained technicians for reliable results.</p>
            </div>
            <div class="why-card animate-on-scroll">
                <div class="why-icon"><i class="fas fa-laptop-medical"></i></div>
                <h3>Online Reports</h3>
                <p>Download your reports online anytime using your Report ID.</p>
            </div>
        </div>
    </div>
</section>

<!-- Stats Counter -->
<section class="stats-section">
    <div class="section-container">
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number" data-count="10000">0</div>
                <div class="stat-label">Tests Completed</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" data-count="5000">0</div>
                <div class="stat-label">Happy Patients</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" data-count="50">0</div>
                <div class="stat-label">Types of Tests</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" data-count="10">0</div>
                <div class="stat-label">Years Experience</div>
            </div>
        </div>
    </div>
</section>

<!-- Popular Tests with 3D Cards -->
{% if popular_tests %}
<section class="popular-tests-section">
    <div class="section-container">
        <div class="section-header">
            <span class="section-badge">Popular Tests</span>
            <h2 class="section-title">Most Booked <span class="gradient-text">Tests</span></h2>
        </div>
        <div class="tests-grid">
            {% for test in popular_tests %}
            <div class="test-card-3d">
                <div class="test-card animate-on-scroll">
                    <div class="test-category-badge">{{ test.category.name }}</div>
                    <h3>{{ test.name }}</h3>
                    <div class="test-meta">
                        <span><i class="fas fa-vial"></i> {{ test.sample_type }}</span>
                        <span><i class="fas fa-clock"></i> {{ test.report_time }}</span>
                    </div>
                    <div class="test-price">‚Çπ{{ "%.0f"|format(test.price) }}</div>
                    <a href="{{ url_for('patient.book_test') }}" class="btn btn-primary btn-sm">Book Now</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Testimonials -->
{% if testimonials %}
<section class="testimonials-section">
    <div class="section-container">
        <div class="section-header">
            <span class="section-badge">Testimonials</span>
            <h2 class="section-title">What Our <span class="gradient-text">Patients Say</span></h2>
        </div>
        <div class="testimonials-grid">
            {% for t in testimonials %}
            <div class="testimonial-card animate-on-scroll">
                <div class="testimonial-stars">
                    {% for i in range(t.rating) %}‚≠ê{% endfor %}
                </div>
                <p class="testimonial-text">"{{ t.review }}"</p>
                <div class="testimonial-author">
                    <div class="author-avatar">{{ t.reviewer_name[0] }}</div>
                    <span>{{ t.reviewer_name }}</span>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- CTA Section -->
<section class="cta-section">
    <div class="section-container">
        <div class="cta-container">
            <h2>Book Your Test <span class="gradient-text">Today</span></h2>
            <p>Get accurate results at affordable prices. Home sample collection available.</p>
            <div class="cta-buttons">
                <a href="{{ url_for('auth.register') }}" class="btn btn-primary btn-lg">
                    Get Started <span class="btn-arrow">‚Üí</span>
                </a>
                <a href="{{ url_for('main.contact') }}" class="btn btn-outline btn-lg">
                    <i class="fas fa-phone"></i> Contact Us
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}
